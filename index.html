<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>Polymer 3 PWA</title>
  <script src="https://unpkg.com/@webcomponents/webcomponentsjs@next/webcomponents-loader.js"></script>
  <style>
    counter-component {
      margin-top: 15px;
    }
  </style>
  <script type="module">
    import {LitElement, html} from 'https://unpkg.com/@polymer/lit-element@0.6.2/lit-element.js?module';
    import {repeat} from 'https://unpkg.com/lit-html@0.12.0/directives/repeat.js?module';

    /**
     * Logo component
     */
    class LogoComponent extends LitElement {
      constructor() {
        super();
      }

      static get properties() {
        return {
          logourl: {type: String},
          imageurl: {type: String},
          imagealt: {type: String},
          imagetitle: {type: String}
        };
      }

      render() {
        return html`
        <style>
          :host {
            display: inline-block;
            background-color: #0f0;
          }

          .LogoComponent {
            display: block;
          }

          .LogoComponent-image {
            display: block;
          }
        </style>

        <a class="LogoComponent" href=${this.logourl}>
          <img class="LogoComponent-image" src=${this.imageurl} alt=${this.imagealt} title=${this.imagetitle}>
        </a>
      `
      }
    }

    customElements.define('logo-component', LogoComponent);

    /**
     * Navigation Component
     */
    class NavigationComponent extends LitElement {
      constructor() {
        super();
      }

      static get properties() {
        return {
          items: {type: Array},
        };
      }

      render() {
        return html`
        <style>
          :host {
            display: block;
            background-color: #f0f;
          }

          .NavigationComponent {
            display: flex;
            flex-direction: row;
            list-style-type: none;
            margin-bottom: 0;
            margin-top: 0;
            padding-left: 0;
            border: 1px solid #333;
          }

          .NavigationComponent-item:not(:last-child) {
             border-right: 1px solid #333;
          }

          .NavigationComponent-link {
            display: block;
            padding: 10px 5px;
            text-decoration: none;
            color: #333;
          }

          .NavigationComponent-link:hover {
            color: #fff;
            background-color: #333;
          }
        </style>

        <ul class="NavigationComponent">
          ${repeat(JSON.parse(this.items), i => html`
            <li class="NavigationComponent-item">
              <a class="NavigationComponent-link" href=${i.link}>
                 ${i.label}
              </a>
            </li>
          `)}
        </ul>
      `
      }
    }

    customElements.define('navigation-component', NavigationComponent);

    /**
     * Header Component (Logo + Navigation)
     */
    class CustomHeader extends LitElement {
      constructor() {
        super();
      }

      static get properties() {
        return {
          headerLogo: {type: Object},
          headerNav: {type: Array}
        };
      }

      render() {
        return html`
        <style>
          :host {
             display: block;
          }

          .CustomHeader {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            background-color: #0ff;
          }
        </style>

        <header class="CustomHeader">
          <logo-component
            logourl=${JSON.parse(this.headerLogo).logourl}
            imageurl=${JSON.parse(this.headerLogo).imageurl}
            imagealt=${JSON.parse(this.headerLogo).imagealt}
            imagetitle=${JSON.parse(this.headerLogo).imagetitle}
          ></logo-component>
          <div><slot></slot></div>
          <navigation-component .items=${this.headerNav}></navigation-component>
        </header>
    `
      }
    }

    customElements.define('custom-header', CustomHeader);

    /**
     * Photo Card
     */
    class PhotoCard extends LitElement {
      constructor() {
        super();
      }

      static get properties() {
        return {
          id: {type: Number},
          albumId: {type: Number},
          title: {type: String},
          thumbnailUrl: {type: String},
          url: {type: String}
        };
      }

      render() {
        return html`
        <style>
          :host {
             display: block;
          }

          .Card {
            box-sizing: border-box;
            height: 100%;
            padding: 15px;
            background-color: #ff0;
            border: 1px solid #000;
          }

          .Card_content {

          }

          .Card_title {
            flex: 0;
            margin-top: 0;
            margin-bottom: 0;
            display: -webkit-box;
            height: 42px;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            text-align: center;
            overflow: hidden;
          }

          .Card_image {
            flex: 0;
            margin-top: 15px;
            display: block;
            width: 100%;
          }

          .Card_albumId {
            margin-top: 0;
            margin-bottom: 0;
            text-align: right;
            color: #ccc;
          }

          .Card_actionbar {
            margin-top: 15px;
            text-align: center;
          }

          .Button--c2a {
            display: inline-block;
            text-underline: none;
            border: 1px solid #ccc;
            border-radius: 3px;
            color: #ccc;
          }
        </style>

        <article class="Card">
          <section class="Card_content">
            <h3 class="Card_title">${this.title}</h3>
            <h4 class="Card_albumId">Album ID: #${this.albumId}</h4>
            <img src="${this.thumbnailUrl}" class="Card_image" alt="album cover">
            <div class="Card_actionbar">
               <a href="${this.url}" target="_blank" class="Button--c2a">See bigger photo</a>
            </div>
          </section>
        </article>
      `
      }
    }

    customElements.define('photo-card', PhotoCard);

    /**
     * Listing component (photo cards)
     */
    class PhotoCardList extends LitElement {
      constructor() {
        super();
      }

      static get properties() {
        return {
          title: {type: String},
          items: {type: Array},
        };
      }

      render() {
        return html`
          <style>
            :host {
              display: block;
              background-color: #f00;
            }

            .Title {
              text-align: center;
              margin-top: 0;
              margin-bottom: 0;
            }

            .PhotoCardList {
              display: flex;
              flex-direction: row;
              flex-wrap: wrap;

              list-style-type: none;
              padding-left: 0;
              margin-bottom: 0;
              margin-top: 0;
            }

            .PhotoCardList-item {
              margin: 10px;
              width: calc(25% - 20px);
              flex-basis: calc(25% - 20px);
            }
          </style>

          <h2 class="Title">${this.title}</h2>
          <ul class="PhotoCardList">
            ${repeat(JSON.parse(this.items), i => html`
              <li class="PhotoCardList-item">
                <photo-card id="${i.id}" albumId="${i.albumId}" title="${i.title}" url="${i.url}" thumbnailUrl="${i.thumbnailUrl}"></photo-card>
              </li>
            `)}
          </ul>
          `
      }
    }

    customElements.define('photo-card-list', PhotoCardList);

    /**
     * List Users Component
     */
    class ListUsers extends LitElement {
      constructor() {
        super();
        this.clickMethod = this.clickMethod.bind(this);
      }

      static get properties() {
        return {
          users: {type: Array}
        };
      }

      clickMethod(number) {
        console.log(`clicked on: ${number}`);
      }

      render() {
        return html`
        <style>
          :host {
            display: block;
            padding: 5px;
            background-color: #ddd;
          }

          .Breadcrumbs {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: flex-end;

            list-style-type: none;
            padding-left: 0;
            margin-bottom: 0;
            margin-top: 0;
          }

          .Breadcrumbs-item {
            margin: 5px;
          }

          .Button {
            display: block;
            padding: 5px 15px;
            background-color: #aaa;
            border: 0;
          }

          .Button--selected {
            background-color: #0F0;
          }
        </style>

        <ul class="Breadcrumbs">
          <li class="Breadcrumbs-item"><button type="button" @click="${this.clickMethod.bind(null, 'all')}" class="Button Button--selected">All</button></li>
          <li class="Breadcrumbs-item"><button type="button" @click="${this.clickMethod.bind(null, 10)}" class="Button">First 10</button></li>
          <li class="Breadcrumbs-item"><button type="button" @click="${this.clickMethod.bind(null, 20)}" class="Button">First 20</button></li>
        </ul>
      `
      }
    }

    customElements.define('list-users', ListUsers);

    /**
     * Footer component
     */
    class CustomFooter extends LitElement {
      constructor() {
        super();
      }

      static get properties() {
        return {};
      }

      render() {
        return html`
        <style>
          :host {
            display: block;
            background-color: #00F;
          }

          .Footer {
            text-align: center;
            color: #FFF;
          }

          .Footer p {
            margin-top: 0;
            margin-bottom: 0;
          }
        </style>

        <footer class="Footer">
          <p><slot></slot></p>
        </footer>
      `
      }
    }

    customElements.define('custom-footer', CustomFooter);
  </script>
</head>
<body>
<style>
  html {
    line-height: 1.15;
    -webkit-text-size-adjust: 100%;
  }

  body {
    margin: 0;
  }

  main {
    display: block;
  }

  .App {
    display: flex;
    height: 100vh;
    flex-direction: column;
    flex-wrap: nowrap;
    align-content: space-between;
    overflow: hidden;
  }

  custom-header,
  custom-footer {
    flex: 0;
  }

  main {
    flex: 1;
    overflow-y: scroll;
  }

  breadcrumbs-component {
    text-align: center;
  }
</style>

<div class="App">
  <custom-header
    headerLogo='{"logourl":"#","imageurl":"https://botw-pd.s3.amazonaws.com/styles/logo-thumbnail/s3/052016/untitled-1_183.png","imagealt":"Pied Piper logo","imagetitle":"Pied Piper"}'
    headerNav='[{"link":"http://google.com","label":"Google"},{"link":"#","label":"Yandex"},{"link":"#","label":"DuckDuckGo"}]'>
    <h1>Proof of Concept: Polymer 3 P.W.A.</h1>
  </custom-header>

  <main>
    <list-users
      users='[{"id":1},{"id":2},{"id":3},{"id":4}]'
    ></list-users>

    <photo-card-list
      title="Album:"
      items='[{"albumId":3,"id":101,"title":"incidunt alias vel enim","url":"https://via.placeholder.com/600/e743b","thumbnailUrl":"https://via.placeholder.com/150/e743b"},{"albumId":3,"id":102,"title":"eaque iste corporis tempora vero distinctio consequuntur nisi nesciunt","url":"https://via.placeholder.com/600/a393af","thumbnailUrl":"https://via.placeholder.com/150/a393af"},{"albumId":3,"id":103,"title":"et eius nisi in ut reprehenderit labore eum","url":"https://via.placeholder.com/600/35cedf","thumbnailUrl":"https://via.placeholder.com/150/35cedf"},{"albumId":3,"id":104,"title":"et natus vero quia totam aut et minima","url":"https://via.placeholder.com/600/313b40","thumbnailUrl":"https://via.placeholder.com/150/313b40"},{"albumId":3,"id":105,"title":"veritatis numquam eius","url":"https://via.placeholder.com/600/eaf2e1","thumbnailUrl":"https://via.placeholder.com/150/eaf2e1"},{"albumId":3,"id":106,"title":"repellat molestiae nihil iste autem blanditiis officiis","url":"https://via.placeholder.com/600/b1f841","thumbnailUrl":"https://via.placeholder.com/150/b1f841"},{"albumId":3,"id":107,"title":"maiores ipsa ut autem","url":"https://via.placeholder.com/600/50d332","thumbnailUrl":"https://via.placeholder.com/150/50d332"},{"albumId":3,"id":108,"title":"qui tempora vel exercitationem harum iusto voluptas incidunt","url":"https://via.placeholder.com/600/627495","thumbnailUrl":"https://via.placeholder.com/150/627495"},{"albumId":3,"id":109,"title":"quidem ut quos non qui debitis exercitationem","url":"https://via.placeholder.com/600/c5e1ce","thumbnailUrl":"https://via.placeholder.com/150/c5e1ce"},{"albumId":3,"id":110,"title":"reiciendis et velit laborum recusandae","url":"https://via.placeholder.com/600/2f9e30","thumbnailUrl":"https://via.placeholder.com/150/2f9e30"},{"albumId":3,"id":111,"title":"quos rem nulla ea amet","url":"https://via.placeholder.com/600/cc178e","thumbnailUrl":"https://via.placeholder.com/150/cc178e"},{"albumId":3,"id":112,"title":"laudantium quibusdam inventore","url":"https://via.placeholder.com/600/170690","thumbnailUrl":"https://via.placeholder.com/150/170690"},{"albumId":3,"id":113,"title":"hic nulla consectetur","url":"https://via.placeholder.com/600/1dff02","thumbnailUrl":"https://via.placeholder.com/150/1dff02"},{"albumId":3,"id":114,"title":"consequatur quaerat sunt et","url":"https://via.placeholder.com/600/e79b4e","thumbnailUrl":"https://via.placeholder.com/150/e79b4e"},{"albumId":3,"id":115,"title":"unde minus molestias","url":"https://via.placeholder.com/600/da7ddf","thumbnailUrl":"https://via.placeholder.com/150/da7ddf"},{"albumId":3,"id":116,"title":"et iure eius enim explicabo","url":"https://via.placeholder.com/600/aac33b","thumbnailUrl":"https://via.placeholder.com/150/aac33b"},{"albumId":3,"id":117,"title":"dolore quo nemo omnis odio et iure explicabo","url":"https://via.placeholder.com/600/b2fe8","thumbnailUrl":"https://via.placeholder.com/150/b2fe8"},{"albumId":3,"id":118,"title":"et doloremque excepturi libero earum","url":"https://via.placeholder.com/600/eb76bc","thumbnailUrl":"https://via.placeholder.com/150/eb76bc"},{"albumId":3,"id":119,"title":"quisquam error consequatur","url":"https://via.placeholder.com/600/61918f","thumbnailUrl":"https://via.placeholder.com/150/61918f"},{"albumId":3,"id":120,"title":"eos quia minima modi cumque illo odit consequatur vero","url":"https://via.placeholder.com/600/3ee01c","thumbnailUrl":"https://via.placeholder.com/150/3ee01c"},{"albumId":3,"id":121,"title":"commodi sed enim sint in nobis","url":"https://via.placeholder.com/600/fd8ae7","thumbnailUrl":"https://via.placeholder.com/150/fd8ae7"},{"albumId":3,"id":122,"title":"consequatur quos odio harum alias","url":"https://via.placeholder.com/600/949d2f","thumbnailUrl":"https://via.placeholder.com/150/949d2f"},{"albumId":3,"id":123,"title":"fuga sint ipsa quis","url":"https://via.placeholder.com/600/ecef3e","thumbnailUrl":"https://via.placeholder.com/150/ecef3e"},{"albumId":3,"id":124,"title":"officiis similique autem unde repellendus","url":"https://via.placeholder.com/600/bc8f1d","thumbnailUrl":"https://via.placeholder.com/150/bc8f1d"},{"albumId":3,"id":125,"title":"et fuga perspiciatis qui quis","url":"https://via.placeholder.com/600/d0882c","thumbnailUrl":"https://via.placeholder.com/150/d0882c"},{"albumId":3,"id":126,"title":"id reiciendis neque voluptas explicabo quae","url":"https://via.placeholder.com/600/7ef62f","thumbnailUrl":"https://via.placeholder.com/150/7ef62f"},{"albumId":3,"id":127,"title":"magnam quia sed aspernatur","url":"https://via.placeholder.com/600/74456b","thumbnailUrl":"https://via.placeholder.com/150/74456b"},{"albumId":3,"id":128,"title":"est facere ut nam repellat numquam quia quia eos","url":"https://via.placeholder.com/600/b0931d","thumbnailUrl":"https://via.placeholder.com/150/b0931d"},{"albumId":3,"id":129,"title":"alias mollitia voluptatum soluta quod","url":"https://via.placeholder.com/600/5efeca","thumbnailUrl":"https://via.placeholder.com/150/5efeca"},{"albumId":3,"id":130,"title":"maxime provident eaque sapiente ipsa ducimus","url":"https://via.placeholder.com/600/89afb1","thumbnailUrl":"https://via.placeholder.com/150/89afb1"},{"albumId":3,"id":131,"title":"qui sed ex","url":"https://via.placeholder.com/600/af2618","thumbnailUrl":"https://via.placeholder.com/150/af2618"},{"albumId":3,"id":132,"title":"repellendus velit id non veniam dolorum quod est","url":"https://via.placeholder.com/600/f9a540","thumbnailUrl":"https://via.placeholder.com/150/f9a540"},{"albumId":3,"id":133,"title":"placeat in reprehenderit","url":"https://via.placeholder.com/600/f8ee8a","thumbnailUrl":"https://via.placeholder.com/150/f8ee8a"},{"albumId":3,"id":134,"title":"eveniet perspiciatis optio est qui ea dolore","url":"https://via.placeholder.com/600/496b8d","thumbnailUrl":"https://via.placeholder.com/150/496b8d"},{"albumId":3,"id":135,"title":"qui harum quis ipsum optio ex","url":"https://via.placeholder.com/600/26016b","thumbnailUrl":"https://via.placeholder.com/150/26016b"},{"albumId":3,"id":136,"title":"aut voluptas aut temporibus","url":"https://via.placeholder.com/600/2e1c14","thumbnailUrl":"https://via.placeholder.com/150/2e1c14"},{"albumId":3,"id":137,"title":"et sit earum praesentium quas quis sint et","url":"https://via.placeholder.com/600/41c3dc","thumbnailUrl":"https://via.placeholder.com/150/41c3dc"},{"albumId":3,"id":138,"title":"vitae delectus sed","url":"https://via.placeholder.com/600/ff79d0","thumbnailUrl":"https://via.placeholder.com/150/ff79d0"},{"albumId":3,"id":139,"title":"velit placeat optio corrupti","url":"https://via.placeholder.com/600/ff2fe8","thumbnailUrl":"https://via.placeholder.com/150/ff2fe8"},{"albumId":3,"id":140,"title":"assumenda sit non debitis dolorem saepe quae deleniti","url":"https://via.placeholder.com/600/c0798a","thumbnailUrl":"https://via.placeholder.com/150/c0798a"},{"albumId":3,"id":141,"title":"commodi eum dolorum reiciendis unde ut","url":"https://via.placeholder.com/600/b13ff6","thumbnailUrl":"https://via.placeholder.com/150/b13ff6"},{"albumId":3,"id":142,"title":"reprehenderit totam dolor itaque","url":"https://via.placeholder.com/600/c7a96d","thumbnailUrl":"https://via.placeholder.com/150/c7a96d"},{"albumId":3,"id":143,"title":"totam temporibus eaque est eum et perspiciatis ullam","url":"https://via.placeholder.com/600/79439b","thumbnailUrl":"https://via.placeholder.com/150/79439b"},{"albumId":3,"id":144,"title":"aspernatur possimus consectetur in tempore distinctio a ipsa officiis","url":"https://via.placeholder.com/600/66a752","thumbnailUrl":"https://via.placeholder.com/150/66a752"},{"albumId":3,"id":145,"title":"eius unde ipsa incidunt corrupti quia accusamus omnis","url":"https://via.placeholder.com/600/f3472e","thumbnailUrl":"https://via.placeholder.com/150/f3472e"},{"albumId":3,"id":146,"title":"ullam dolor ut ipsa veniam","url":"https://via.placeholder.com/600/6c746e","thumbnailUrl":"https://via.placeholder.com/150/6c746e"},{"albumId":3,"id":147,"title":"minima aspernatur eius nemo ut","url":"https://via.placeholder.com/600/661f4c","thumbnailUrl":"https://via.placeholder.com/150/661f4c"},{"albumId":3,"id":148,"title":"aperiam amet est occaecati quae non ut","url":"https://via.placeholder.com/600/b9d67e","thumbnailUrl":"https://via.placeholder.com/150/b9d67e"},{"albumId":3,"id":149,"title":"saepe recusandae ut odio enim ipsa quo placeat iusto","url":"https://via.placeholder.com/600/cffa9b","thumbnailUrl":"https://via.placeholder.com/150/cffa9b"},{"albumId":3,"id":150,"title":"ipsum numquam ratione facilis provident animi reprehenderit ut","url":"https://via.placeholder.com/600/3689cd","thumbnailUrl":"https://via.placeholder.com/150/3689cd"}]'
    ></photo-card-list>
  </main>

  <custom-footer>Copyright &copy; Manticores 2018</custom-footer>
</div>
</body>
</html>
